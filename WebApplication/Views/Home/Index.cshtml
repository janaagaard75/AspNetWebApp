@using CocaineCartels.BusinessLogic
@using Newtonsoft.Json

<div id="headerContainer" class="container-fluid">
    <h1>Cocaine Cartels</h1>
</div>
<div id="gameStopped" class="container-fluid hidden">
    <div class="row">
        <div class="col-sm-6 col-sm-offset-3">
            <p>
                Waiting for players to join. <span id="startNumberOfPlayers"></span> players have joined so far.
            </p>
            <p>Your color: <span id="startPlayerColor"></span></p>
            <p></p>
            <p>Players joined: <span id="startPlayersColors"></span></p>
            <p>
                <button id="allPlayersSeemToBeHereButton" onclick="cocaineCartels.allPlayersSeemToBeHereClicked();" class="btn btn-default btn-lg">All players are here</button>
            </p>
            <p>The game will start when all players have pressed the button above.</p>
            <h4>Settings</h4>
            <p>Each turn all players get @Settings.NewUnitsPerTurn new units plus one extra unit for every @Settings.NewUnitPerCellsControlled cells controlled.</p>
            <p>Up to @Settings.MovesPerTurn move commands allowed per turn.</p>
            <p>The board size is @Settings.GridSize.</p>
            @*<p>The first player to reach @Settings.PointsToWinTheGame points wins.</p>*@
        </div>
    </div>
</div>
<div id="gameStarted" class="container-fluid hidden">
    <div class="row">
        <div class="col-sm-3">
            <div class="row">
                <div class="col-xs-12">
                    <p>Your color: <span id="playerColor" class="label">&nbsp;</span></p>
                    <p>Turn number: <span id="turnNumber"></span></p>
                    <h3>Points</h3>
                    <p id="playersPoints"></p>
                </div>
            </div>
        </div>
        <div class="col-sm-6 col-height">
            <div id="canvasButtonsRow" class="row">
                <div class="col-xs-9">
                    <p>
                        <button id="replayButton" onclick="cocaineCartels.replayLastTurn();" class="btn btn-default">Replay last turn <span class="glyphicon glyphicon-repeat"></span></button>
                    </p>
                </div>
                <div class="col-xs-3">
                    <p id="moves" class="form-control-static">Moves: <span id="numberOfMovesLeft"></span></p>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <div id="interactiveCanvas"></div>
                    <div id="replayCanvas"></div>
                </div>
            </div>
        </div>
        <div class="col-sm-3 col-height">
            <div class="row">
                <div class="col-xs-12 text-right">
                    <p>Turn mode: <span id="turnMode"></span></p>
                </div>
            </div>
            <div id="ownAlliances" class="row hidden">
                <div class="col-xs-12 text-right">
                    <h4>In the upcoming turn, you are allied with:</h4>
                    <div id="ownAlliancesList"></div>
                </div>
            </div>
            <div id="allAlliances" class="row hidden">
                <div class="col-xs-12 text-right">
                    <h4>In the previous turn, the following players were allied:</h4>
                    <div id="allAlliancesList"></div>
                </div>
            </div>
            <div id="allianceProposals" class="row hidden">
                <div class="col-xs-12 text-right">
                    <h2>Propose alliances with:</h2>
                    <div id="allianceCheckboxes"></div>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12 text-right">
                    <p>Are ready: <span id="playersStatus"></span></p>
                    <p>
                        <button id="readyButton" class="btn btn-default btn-lg" onclick="cocaineCartels.readyButtonClicked();">I'm ready</button>
                    </p>
                    <p id="resetButton">
                        <button class="btn btn-default" onclick="cocaineCartels.resetMoves();">Reset moves</button>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="administratorCommands" class="container-fluid administrator-commands">
    <button onclick="cocaineCartels.confirmResetGame();" class="btn btn-default btn-sm">Reset game</button>
</div>

@section beforeBundledScripts
{
    <script>
        var serverSideSettings = @Html.Raw(JsonConvert.SerializeObject(new Settings()));
    </script>
}

@section afterBundledScripts
{
    <script>
        var cocaineCartels = new CocaineCartels.Main();
    </script>
}
